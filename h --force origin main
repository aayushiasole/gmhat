[1mdiff --git a/public/index.html b/public/index.html[m
[1mindex aa069f2..a2a68ca 100644[m
[1m--- a/public/index.html[m
[1m+++ b/public/index.html[m
[36m@@ -2,6 +2,9 @@[m
 <html lang="en">[m
   <head>[m
     <meta charset="utf-8" />[m
[32m+[m[32m    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">[m
[32m+[m
[32m+[m
     <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />[m
     <meta name="viewport" content="width=device-width, initial-scale=1" />[m
     <meta name="theme-color" content="#000000" />[m
[36m@@ -9,6 +12,7 @@[m
       name="description"[m
       content="Web site created using create-react-app"[m
     />[m
[32m+[m[41m    [m
     <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />[m
     <!--[m
       manifest.json provides metadata used when your web app is installed on a[m
[1mdiff --git a/src/App.js b/src/App.js[m
[1mindex 3784575..75fe07b 100644[m
[1m--- a/src/App.js[m
[1m+++ b/src/App.js[m
[36m@@ -1,24 +1,25 @@[m
[31m-import logo from './logo.svg';[m
[31m-import './App.css';[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';[m
[32m+[m[32mimport NavigationBar from './components/NavigationBar';[m
[32m+[m[32mimport PatientForm from './pages/PatientForm';[m
[32m+[m[32mimport Questionnaire from './pages/Questionnaire';[m
[32m+[m[32mimport Report from "./pages/Report";[m
[32m+[m[32mimport HomePage from './pages/HomePage';[m
[32m+[m[32mimport './custom.css';[m
[32m+[m[32mimport 'bootstrap/dist/css/bootstrap.min.css';[m
 [m
 function App() {[m
   return ([m
[31m-    <div className="App">[m
[31m-      <header className="App-header">[m
[31m-        <img src={logo} className="App-logo" alt="logo" />[m
[31m-        <p>[m
[31m-          Edit <code>src/App.js</code> and save to reload.[m
[31m-        </p>[m
[31m-        <a[m
[31m-          className="App-link"[m
[31m-          href="https://reactjs.org"[m
[31m-          target="_blank"[m
[31m-          rel="noopener noreferrer"[m
[31m-        >[m
[31m-          Learn React[m
[31m-        </a>[m
[31m-      </header>[m
[31m-    </div>[m
[32m+[m[32m    <Router>[m
[32m+[m[32m      <NavigationBar />[m
[32m+[m[32m      <Routes>[m
[32m+[m[32m        <Route path="/" element={<HomePage />} />[m
[32m+[m[32m        {/* We will add more routes here soon */}[m
[32m+[m[32m        <Route path="/patient" element={<PatientForm />} />[m
[32m+[m[32m        <Route path="/questionnaire" element={<Questionnaire />} />[m
[32m+[m[32m        <Route path="/report" element={<Report />} />[m
[32m+[m[32m      </Routes>[m
[32m+[m[32m    </Router>[m
   );[m
 }[m
 [m
[1mdiff --git a/src/components/NavigationBar.jsx b/src/components/NavigationBar.jsx[m
[1mnew file mode 100644[m
[1mindex 0000000..5456262[m
[1m--- /dev/null[m
[1m+++ b/src/components/NavigationBar.jsx[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32m// src/components/NavigationBar.jsx[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport { Navbar, Nav, Container } from 'react-bootstrap';[m
[32m+[m[32mimport { LinkContainer } from 'react-router-bootstrap';[m
[32m+[m[32mimport '../custom.css';[m
[32m+[m[32mexport default function NavigationBar() {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Navbar bg="dark" variant="dark" expand="lg" className="shadow-sm">[m
[32m+[m[32m      <Container>[m
[32m+[m[32m        {/* Brand/logo stays on the left */}[m
[32m+[m[32m        <LinkContainer to="/">[m
[32m+[m[32m          <Navbar.Brand>[m
[32m+[m[32m            <i className="bi bi-heart-pulse-fill me-2" style={{ fontSize: '1.05rem' }}></i>[m
[32m+[m[32m            GMHAT[m
[32m+[m[32m          </Navbar.Brand>[m
[32m+[m[32m        </LinkContainer>[m
[32m+[m
[32m+[m[32m        <Navbar.Toggle aria-controls="basic-navbar-nav" />[m
[32m+[m[32m        <Navbar.Collapse id="basic-navbar-nav">[m
[32m+[m[32m          {/* 👉 CHANGED: use mx-auto instead of me-auto */}[m
[32m+[m[32m          <Nav className="mx-auto">[m
[32m+[m[32m            <LinkContainer to="/patient">[m
[32m+[m[32m              <Nav.Link>Patient Data</Nav.Link>[m
[32m+[m[32m            </LinkContainer>[m
[32m+[m[32m            <LinkContainer to="/questionnaire">[m
[32m+[m[32m              <Nav.Link>Questionnaire</Nav.Link>[m
[32m+[m[32m            </LinkContainer>[m
[32m+[m[32m            <LinkContainer to="/report">[m
[32m+[m[32m              <Nav.Link>Report</Nav.Link>[m
[32m+[m[32m            </LinkContainer>[m
[32m+[m[32m          </Nav>[m
[32m+[m[32m        </Navbar.Collapse>[m
[32m+[m[32m      </Container>[m
[32m+[m[32m    </Navbar>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/src/custom.css b/src/custom.css[m
[1mnew file mode 100644[m
[1mindex 0000000..8ae2ab6[m
[1m--- /dev/null[m
[1m+++ b/src/custom.css[m
[36m@@ -0,0 +1,210 @@[m
[32m+[m[32m/* ----------  COLOR VARIABLES  ---------- */[m
[32m+[m[32m:root {[m
[32m+[m[32m  --lavender-100: #F6F1FB;[m
[32m+[m[32m  --lavender-200: #E9E0F8;[m
[32m+[m[32m  --lavender-300: #D7C6F1;[m
[32m+[m[32m  --lavender-400: #A88ADF;[m
[32m+[m[32m  --lavender-500: #7F62B7;[m
[32m+[m[32m  --pale-pink:   #FFF1F6;[m
[32m+[m[32m  --card-bg:     #FFFFFF;[m
[32m+[m[32m  --muted:       #5E5871;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ----------  ANIMATED BACKGROUND  ---------- */[m
[32m+[m[32mbody {[m
[32m+[m[32m  background: linear-gradient(-45deg,[m
[32m+[m[32m    var(--lavender-100),[m
[32m+[m[32m    var(--lavender-200),[m
[32m+[m[32m    var(--pale-pink),[m
[32m+[m[32m    var(--lavender-300));[m
[32m+[m[32m  background-size: 400% 400%;[m
[32m+[m[32m  animation: gradientFlow 20s ease infinite;[m
[32m+[m[32m  font-family: "Open Sans", sans-serif;[m
[32m+[m[32m  color: #2a2740;[m
[32m+[m[32m}[m
[32m+[m[32m@keyframes gradientFlow {[m
[32m+[m[32m  0%   {background-position: 0% 50%;}[m
[32m+[m[32m  50%  {background-position: 100% 50%;}[m
[32m+[m[32m  100% {background-position: 0% 50%;}[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ----------  TYPOGRAPHY  ---------- */[m
[32m+[m[32mh1,h2,h3,h4 {[m
[32m+[m[32m  font-family: 'Playfair Display', serif;[m
[32m+[m[32m  color: var(--lavender-500);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mbody, p, li {[m
[32m+[m[32m  font-family: 'Quicksand', sans-serif;     /* your body font */[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.lead { color: var(--muted); line-height: 1.5; }[m
[32m+[m
[32m+[m[32m/* ----------  GLASSMORPHISM CARDS  ---------- */[m
[32m+[m[32m.section-box,[m
[32m+[m[32m.domain-card,[m
[32m+[m[32m.faq-card,[m
[32m+[m[32m.score-card {[m
[32m+[m[32m  background: rgba(255,255,255,0.55);[m
[32m+[m[32m  backdrop-filter: blur(10px);[m
[32m+[m[32m  border: 1px solid rgba(255,255,255,0.3);[m
[32m+[m[32m  border-radius: 14px;[m
[32m+[m[32m  padding: 24px;[m
[32m+[m[32m  box-shadow: 0 8px 24px rgba(0,0,0,0.1);[m
[32m+[m[32m  margin-bottom: 32px;[m
[32m+[m[32m  transition: transform 0.3s ease;[m
[32m+[m[32m}[m
[32m+[m[32m.section-box:hover,[m
[32m+[m[32m.domain-card:hover,[m
[32m+[m[32m.faq-card:hover,[m
[32m+[m[32m.score-card:hover {[m
[32m+[m[32m  transform: translateY(-6px);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ----------  VERTICAL TIMELINE WITH DOTTED ARROW  ---------- */[m
[32m+[m[32m.timeline-center {[m
[32m+[m[32m  position: relative;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  max-width: 900px;[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  padding: 2rem 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Dotted arrow line */[m
[32m+[m[32m.timeline-center::after {[m
[32m+[m[32m  content: "";[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  top: 0;[m
[32m+[m[32m  bottom: 0;[m
[32m+[m[32m  left: 50%;[m
[32m+[m[32m  transform: translateX(-50%);[m
[32m+[m[32m  width: 4px;[m
[32m+[m[32m  border-left: 4px dotted var(--lavender-500);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Arrowhead at bottom */[m
[32m+[m[32m.timeline-center::before {[m
[32m+[m[32m  content: "";[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  bottom: -12px;[m
[32m+[m[32m  left: 50%;[m
[32m+[m[32m  transform: translateX(-50%) rotate(90deg);[m
[32m+[m[32m  width: 0;[m
[32m+[m[32m  height: 0;[m
[32m+[m[32m  border-top: 12px solid transparent;[m
[32m+[m[32m  border-bottom: 12px solid transparent;[m
[32m+[m[32m  border-left: 14px solid var(--lavender-500);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Timeline item boxes */[m
[32m+[m[32m.timeline-item {[m
[32m+[m[32m  padding: 1rem 2rem;[m
[32m+[m[32m  position: relative;[m
[32m+[m[32m  width: 50%;[m
[32m+[m[32m}[m
[32m+[m[32m.timeline-item::before {[m
[32m+[m[32m  content: "";[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  top: 1.2rem;[m
[32m+[m[32m  width: 12px;[m
[32m+[m[32m  height: 12px;[m
[32m+[m[32m  background: var(--lavender-500);[m
[32m+[m[32m  border-radius: 50%;[m
[32m+[m[32m  z-index: 1;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Left column items */[m
[32m+[m[32m.timeline-item.left {[m
[32m+[m[32m  left: 0;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m}[m
[32m+[m[32m.timeline-item.left::before {[m
[32m+[m[32m  right: -6px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Right column items */[m
[32m+[m[32m.timeline-item.right {[m
[32m+[m[32m  left: 50%;[m
[32m+[m[32m  text-align: left;[m
[32m+[m[32m}[m
[32m+[m[32m.timeline-item.right::before {[m
[32m+[m[32m  left: -6px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Timeline content card */[m
[32m+[m[32m.timeline-content {[m
[32m+[m[32m  background: rgba(255,255,255,0.55);[m
[32m+[m[32m  backdrop-filter: blur(10px);[m
[32m+[m[32m  border: 1px solid rgba(255,255,255,0.3);[m
[32m+[m[32m  border-radius: 14px;[m
[32m+[m[32m  padding: 1rem 1.5rem;[m
[32m+[m[32m  box-shadow: 0 4px 12px rgba(0,0,0,0.1);[m
[32m+[m[32m}[m
[32m+[m[32m.timeline-content h5 {[m
[32m+[m[32m  color: var(--lavender-500);[m
[32m+[m[32m  margin-bottom: 0.4rem;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Responsive layout */[m
[32m+[m[32m@media screen and (max-width: 768px) {[m
[32m+[m[32m  .timeline-item {[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    text-align: left !important;[m
[32m+[m[32m    padding-left: 3rem;[m
[32m+[m[32m  }[m
[32m+[m[32m  .timeline-item.left,[m
[32m+[m[32m  .timeline-item.right {[m
[32m+[m[32m    left: 0;[m
[32m+[m[32m  }[m
[32m+[m[32m  .timeline-item::before {[m
[32m+[m[32m    left: -6px;[m
[32m+[m[32m    right: auto;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ----------  BUTTONS & LINKS  ---------- */[m
[32m+[m[32m.btn-primary {[m
[32m+[m[32m  background: linear-gradient(90deg,#a88adf,#7f62b7);[m
[32m+[m[32m  border: none;[m
[32m+[m[32m  transition: background 0.3s ease, transform 0.2s ease;[m
[32m+[m[32m}[m
[32m+[m[32m.btn-primary:hover {[m
[32m+[m[32m  background: linear-gradient(90deg,#7f62b7,#a88adf);[m
[32m+[m[32m  transform: translateY(-2px);[m
[32m+[m[32m}[m
[32m+[m[32ma {[m
[32m+[m[32m  position: relative;[m
[32m+[m[32m  text-decoration: none;[m
[32m+[m[32m  color: var(--lavender-500);[m
[32m+[m[32m}[m
[32m+[m[32ma::after {[m
[32m+[m[32m  content: '';[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  width: 0;[m
[32m+[m[32m  height: 2px;[m
[32m+[m[32m  left: 0;[m
[32m+[m[32m  bottom: -2px;[m
[32m+[m[32m  background: var(--lavender-400);[m
[32m+[m[32m  transition: width 0.3s ease;[m
[32m+[m[32m}[m
[32m+[m[32ma:hover::after {[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* ----------  TABLE  ---------- */[m
[32m+[m[32m.score-table {[m
[32m+[m[32m  width:100%;[m
[32m+[m[32m  border-collapse: collapse;[m
[32m+[m[32m}[m
[32m+[m[32m.score-table th, .score-table td {[m
[32m+[m[32m  border: 1px solid rgba(127,98,183,0.2);[m
[32m+[m[32m  padding: 8px 12px;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m}[m
[32m+[m[32m.score-table th {[m
[32m+[m[32m  background: var(--lavender-200);[m
[32m+[m[32m  color: #2a2740;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-nav {[m
[32m+[m[32m  gap: 1.5rem;   /* space between the three tabs */[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/src/data/questions.js b/src/data/questions.js[m
[1mnew file mode 100644[m
[1mindex 0000000..0fd47b2[m
[1m--- /dev/null[m
[1m+++ b/src/data/questions.js[m
[36m@@ -0,0 +1,58 @@[m
[32m+[m[32m// Ratings:[m
[32m+[m[32m// 0 = No evidence of symptom[m
[32m+[m[32m// 1 = Mildly distressing/disabling[m
[32m+[m[32m// 2 = Moderately distressing/disabling[m
[32m+[m[32m// 3 = Severely distressing/disabling[m
[32m+[m[32m// 8 = Interviewer unsure[m
[32m+[m[32m// 9 = Not applicable / not asked[m
[32m+[m
[32m+[m[32mexport const questions = [[m
[32m+[m[32m  // --- Worries & Anxiety ---[m
[32m+[m[32m  { id: 1,  text: "Do you tend to worry a lot?", category: "Worries" },[m
[32m+[m[32m  { id: 2,  text: "Do you get frightened or nervous?", category: "Anxiety" },[m
[32m+[m[32m  { id: 3,  text: "Have you had attacks of fear or panic?", category: "Panic attack" },[m
[32m+[m
[32m+[m[32m  // --- Concentration ---[m
[32m+[m[32m  { id: 4,  text: "Is your concentration impaired in everyday activities?", category: "Concentration" },[m
[32m+[m
[32m+[m[32m  // --- Depression & Mood ---[m
[32m+[m[32m  { id: 5,  text: "Have you been sad (depressed) recently?", category: "Depressed mood" },[m
[32m+[m[32m  { id: 6,  text: "Have you lost interest in things you normally enjoy?", category: "Loss of interests" },[m
[32m+[m[32m  { id: 7,  text: "Do you feel hopeless about the future?", category: "Hopelessness" },[m
[32m+[m
[32m+[m[32m  // --- Suicidal tendencies ---[m
[32m+[m[32m  { id: 8,  text: "Have you felt that life wasn't worth living or thought of ending it?", category: "Recent suicidal tendencies" },[m
[32m+[m[32m  { id: 9,  text: "Do you still have thoughts or plans to end your life?", category: "Present suicidal tendencies" },[m
[32m+[m
[32m+[m[32m  // --- Other key symptoms ---[m
[32m+[m[32m  { id:10,  text: "Have you had trouble sleeping recently?", category: "Sleep" },[m
[32m+[m[32m  { id:11,  text: "Do you worry excessively about your health or illness?", category: "Hypochondriasis" },[m
[32m+[m[32m  { id:12,  text: "Do you check things repeatedly (taps, gas, lights)?", category: "Obsessions/compulsions" },[m
[32m+[m[32m  { id:13,  text: "Do you have fears (like crowds or going out alone) that you know don’t make sense?", category: "Phobias" },[m
[32m+[m[32m  { id:14,  text: "Do you believe people talk or laugh about you, or that TV/radio refers to you?", category: "Thought disorder – ideas of reference/delusions" },[m
[32m+[m[32m  { id:15,  text: "Do you hear things other people cannot hear?", category: "Psychotic symptoms – auditory hallucinations" },[m
[32m+[m[32m  { id:16,  text: "Do you drink alcohol daily or feel a strong desire to drink?", category: "Alcohol misuse" },[m
[32m+[m[32m  { id:17,  text: "Do you use drugs not prescribed by a doctor (illicit drugs)?", category: "Drug misuse" },[m
[32m+[m[32m  { id:18,  text: "Have you had long-standing psychological or emotional difficulties since teenage years?", category: "Personality problems" },[m
[32m+[m[32m  { id:19,  text: "Have you experienced significant stress such as bereavement or relationship break-up?", category: "Level Of Stress" },[m
[32m+[m[32m  { id:20,  text: "After a traumatic event, have you suffered from nightmares or flashbacks?", category: "Post-traumatic stress disorder (PTSD)" },[m
[32m+[m[32m];[m
[32m+[m
[32m+[m[32m// 👉 User-facing rating options, including “Unsure” and “Not Applicable”[m
[32m+[m[32mexport const ratingOptions = [[m
[32m+[m[32m  { label: "No Symptom",    value: 0 },[m
[32m+[m[32m  { label: "Mild",          value: 1 },[m
[32m+[m[32m  { label: "Moderate",      value: 2 },[m
[32m+[m[32m  { label: "Severe",        value: 3 },[m
[32m+[m[32m  { label: "Unsure",        value: 8 },[m
[32m+[m[32m  { label: "Not Applicable",value: 9 },[m
[32m+[m[32m];[m
[32m+[m
[32m+[m[32m// Example thresholds (you can fine-tune these if clinical guidance differs)[m
[32m+[m[32mexport const scoringRules = {[m
[32m+[m[32m  Anxiety:      { mild: [1,4],  moderate: [5,8],  severe: [9, Infinity] },[m
[32m+[m[32m  Depression:   { mild: [1,7],  moderate: [8,16], severe: [17, Infinity] },[m
[32m+[m[32m  others1to3:   { mild: [1,1],  moderate: [2,2],  severe: [3,3] },[m
[32m+[m[32m  others1to6:   { mild: [1,2],  moderate: [3,4],  severe: [5,6] },[m
[32m+[m[32m  others1to9:   { mild: [1,3],  moderate: [4,6],  severe: [7,9] },[m
[32m+[m[32m};[m
[1mdiff --git a/src/pages/HomePage.jsx b/src/pages/HomePage.jsx[m
[1mnew file mode 100644[m
[1mindex 0000000..ba65001[m
[1m--- /dev/null[m
[1m+++ b/src/pages/HomePage.jsx[m
[36m@@ -0,0 +1,242 @@[m
[32m+[m[32mimport React, { useState, useEffect } from "react";[m
[32m+[m[32mimport AOS from "aos";[m
[32m+[m[32mimport "aos/dist/aos.css";[m
[32m+[m[32mimport { Container, Row, Col, Card, Button } from "react-bootstrap";[m
[32m+[m[32mimport { useNavigate } from "react-router-dom";[m
[32m+[m[32mimport "../custom.css";[m
[32m+[m[32mimport { motion } from "framer-motion";[m
[32m+[m
[32m+[m[32mconst fadeUp = {[m
[32m+[m[32m  hidden: { opacity: 0, y: 30 },[m
[32m+[m[32m  visible: (i = 0) => ({[m
[32m+[m[32m    opacity: 1,[m
[32m+[m[32m    y: 0,[m
[32m+[m[32m    transition: { delay: i * 0.12, duration: 0.6 },[m
[32m+[m[32m  }),[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mexport default function HomePage() {[m
[32m+[m[32m  const navigate = useNavigate();[m
[32m+[m[32m  const [showBenefits, setShowBenefits] = useState(false);[m
[32m+[m
[32m+[m[32m  // ✅ Initialise AOS once when the component mounts[m
[32m+[m[32m  useEffect(() => {[m
[32m+[m[32m    AOS.init({[m
[32m+[m[32m      duration: 800,  // animation speed (ms)[m
[32m+[m[32m      once: true,     // animate only once per element[m
[32m+[m[32m      offset: 120,    // trigger point from top of viewport[m
[32m+[m[32m      easing: "ease-in-out"[m
[32m+[m[32m    });[m
[32m+[m[32m  }, []);[m
[32m+[m
[32m+[m[32m  const domains = [[m
[32m+[m[32m    { title: "Worries", info: "Excessive, bothersome worrying that impacts daily life." },[m
[32m+[m[32m    { title: "Anxiety & Panic", info: "Nervousness, fear, sudden panic attacks." },[m
[32m+[m[32m    { title: "Concentration", info: "Difficulty focusing on tasks or conversations." },[m
[32m+[m[32m    { title: "Depressed Mood & Hopelessness", info: "Sadness, loss of interest, hopelessness." },[m
[32m+[m[32m    { title: "Suicidal Tendencies", info: "Thoughts, plans or attempts of self-harm." },[m
[32m+[m[32m    { title: "Sleep", info: "Trouble falling or staying asleep." },[m
[32m+[m[32m    { title: "Hypochondriasis", info: "Excessive worry about health or illness." },[m
[32m+[m[32m    { title: "Obsessions/Compulsions", info: "Repetitive checking or intrusive thoughts." },[m
[32m+[m[32m    { title: "Phobias", info: "Irrational fears such as agoraphobia or crowds." },[m
[32m+[m[32m    { title: "Thought Disorder & Delusions", info: "Unusual beliefs, paranoia, ideas of reference." },[m
[32m+[m[32m    { title: "Psychotic Symptoms", info: "Hallucinations such as hearing voices." },[m
[32m+[m[32m    { title: "Alcohol & Drug Misuse", info: "Strong desire or dependence on substances." },[m
[32m+[m[32m    { title: "Personality Problems", info: "Long-term emotional or behavioural difficulties." },[m
[32m+[m[32m    { title: "Stressors & PTSD", info: "Trauma, nightmares, post-event distress." },[m
[32m+[m[32m    { title: "Clinical Judgment", info: "Overall clinician assessment integrating all findings." }[m
[32m+[m[32m  ];[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div>[m
[32m+[m[32m      {/* HERO */}[m
[32m+[m[32m      <Container fluid className="py-5 d-flex justify-content-center" data-aos="fade-up">[m
[32m+[m[32m        <div className="section-box text-center" style={{maxWidth: 1000}}>[m
[32m+[m[32m          <h1>Welcome to the GMHAT App: Your Guide to Mental Health Assessment</h1>[m
[32m+[m[32m          <h4 className="mb-3">Empowering Your Mental Wellbeing Journey</h4>[m
[32m+[m[41m         [m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Container>[m
[32m+[m
[32m+[m[32m      {/* ===== Info Section: GMHAT Intro + Scoring + History ===== */}[m
[32m+[m[32m      <section className="container my-5">[m
[32m+[m[32m        <div className="row g-4 align-items-stretch">[m
[32m+[m
[32m+[m[32m          {/* LEFT COLUMN: What is GMHAT + Scoring Threshold in one card */}[m
[32m+[m[32m          <div className="col-lg-6">[m
[32m+[m[32m            <div className="section-box h-100 d-flex flex-column">[m
[32m+[m[32m              <h2 className="mb-3">What is GMHAT?</h2>[m
[32m+[m[32m              <p className="lead">[m
[32m+[m[32m                The Global Mental Health Assessment Tool (GMHAT) is a standardized, computer-assisted clinical interview designed to help healthcare professionals, including those without specialized psychiatric training, perform rapid and comprehensive mental health assessments. In a time-efficient, semi-structured format, GMHAT guides the interviewer through a broad range of mental health symptoms, including anxiety, depression, psychosis, eating disorders, substance misuse, and dementia. By using a "tree-branch" structure, the tool conserves time by only asking follow-up questions for symptom categories where preliminary screening indicates a potential problem. Upon completion, GMHAT generates a detailed report that includes a list of symptoms, severity ratings, a risk assessment, and a computer-assisted diagnosis based on ICD-10 criteria. This process ultimately helps to improve the detection and management of mental health issues, especially in settings with limited resources or specialists.[m
[32m+[m[32m              </p>[m
[32m+[m[32m             <p className="lead">[m
[32m+[m[32m            The Global Mental Health Assessment Tool (GMHAT) is a trusted, computerised tool[m
[32m+[m[32m            designed to quickly and sensitively identify mental health needs. Whether you're a patient preparing for an[m
[32m+[m[32m            assessment or a healthcare professional, this app provides easy access to information,[m
[32m+[m[32m            self-reflection prompts and resources—no login required to explore; assessments are private and secure.[m
[32m+[m[32m          </p>[m
[32m+[m[32m              <hr className="my-4"/>[m
[32m+[m
[32m+[m[32m              <h3 className="mb-3">Scoring Threshold</h3>[m
[32m+[m[32m              <p className="lead">[m
[32m+[m[32m                GMHAT calculates severity scores across multiple mental health[m
[32m+[m[32m                domains. The following table shows the interpretation of each[m
[32m+[m[32m                severity level:[m
[32m+[m[32m              </p>[m
[32m+[m
[32m+[m[32m              {/* === Scoring Table === */}[m
[32m+[m[32m              <div className="table-responsive">[m
[32m+[m[32m                <table className="score-table mx-auto mt-3 mb-0">[m
[32m+[m[32m                  <thead>[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                      <th>Category</th>[m
[32m+[m[32m                      <th>Score</th>[m
[32m+[m[32m                      <th>Severity</th>[m
[32m+[m[32m                    </tr>[m
[32m+[m[32m                  </thead>[m
[32m+[m[32m                  <tbody>[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                      <td>Anxiety</td>[m
[32m+[m[32m                      <td>0–1</td>[m
[32m+[m[32m                      <td>No / Mild</td>[m
[32m+[m[32m                    </tr>[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                      <td>Depression</td>[m
[32m+[m[32m                      <td>2–3</td>[m
[32m+[m[32m                      <td>Moderate</td>[m
[32m+[m[32m                    </tr>[m
[32m+[m[32m                    <tr>[m
[32m+[m[32m                      <td>Other Domains</td>[m
[32m+[m[32m                      <td>≥4</td>[m
[32m+[m[32m                      <td>Severe</td>[m
[32m+[m[32m                    </tr>[m
[32m+[m[32m                  </tbody>[m
[32m+[m[32m                </table>[m
[32m+[m[32m              </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m
[32m+[m[32m          {/* RIGHT COLUMN: History of GMHAT with Vertical Timeline */}[m
[32m+[m[32m          <div className="col-lg-6">[m
[32m+[m[32m            <div className="section-box h-100">[m
[32m+[m[32m              <h2 className="mb-4 text-center">History of GMHAT</h2>[m
[32m+[m
[32m+[m[32m              <div className="roadmap-vertical">[m
[32m+[m[32m                {[[m
[32m+[m[32m                  {[m
[32m+[m[32m                    year: "1990s Origins",[m
[32m+[m[32m                    text: "In the mid-1990s, Professor Vimal Sharma, a prominent psychiatrist with extensive experience in primary care in the UK and India, alongside Professor John Copeland, a pioneer in geriatric psychiatry, initiated the development of GMHAT. Recognizing the significant inconsistencies and variability in mental health assessments conducted by general practitioners (GPs) and other non-specialist healthcare professionals, they sought to create a standardized, computer-assisted interview tool. This effort was driven by the need to address the lack of a reliable, structured method to identify mental health issues across diverse populations, particularly in busy primary care settings where time and expertise were often limited."[m
[32m+[m[32m                  },[m
[32m+[m[32m                  {[m
[32m+[m[32m                    year: "Early 2000s Launch",[m
[32m+[m[32m                    text: "The Primary Care version (GMHAT/PC) was officially released around 2004, marking a significant milestone in its deployment. This version was specifically designed for use by GPs, nurses, and health workers in primary care settings, offering a concise 15–20 minute assessment that could be integrated into routine consultations. Its development focused on enhancing feasibility, ensuring high inter-rater reliability (validated at 0.85–0.90), and confirming its clinical validity through comparative studies with expert psychiatric evaluations."[m
[32m+[m[32m                  },[m
[32m+[m[32m                  {[m
[32m+[m[32m                    year: "2000s–2010s Expansion",[m
[32m+[m[32m                    text: "During this period, GMHAT evolved to meet the needs of diverse and specialized populations. The Intellectual Disability version (GMHAT-ID) was developed to address the unique mental health challenges faced by individuals with intellectual disabilities, incorporating simplified language and additional prompts to assess cognitive and behavioral symptoms effectively. Simultaneously, the tool was translated into over 10 languages, including Arabic, Spanish, Hindi, Marathi, Tamil, Dutch, German, Welsh, Cantonese, and Mandarin."[m
[32m+[m[32m                  },[m
[32m+[m[32m                  {[m
[32m+[m[32m                    year: "2016 Refugee Pilot",[m
[32m+[m[32m                    text: "A landmark application occurred in December 2016 when GMHAT was piloted with 200 Syrian refugees aged 18 and above in Beirut, Lebanon, in collaboration with the International Organization for Migration (IOM) and supported by the UK Home Office and Public Health England. Conducted until July 2017 as part of the Vulnerable Persons Resettlement Scheme (VPRS), the pilot aimed to assess mental health needs pre-departure to facilitate resettlement support in the UK."[m
[32m+[m[32m                  },[m
[32m+[m[32m                  {[m
[32m+[m[32m                    year: "2020s Global Use",[m
[32m+[m[32m                    text: "n the 2020s, GMHAT continued to expand with the addition of specialized modules for Attention Deficit Hyperactivity Disorder (ADHD) and autistic spectrum disorders, reflecting advances in neurodevelopmental psychiatry. By 2023, it had been adopted in community health settings worldwide, contributing to public health integration efforts by providing data for mental health service planning."[m
[32m+[m[32m                  }[m
[32m+[m[32m                ].map((step, idx) => ([m
[32m+[m[32m                  <div className="roadmap-item" key={idx} data-aos="fade-up" data-aos-delay={idx*100}>[m
[32m+[m[32m                    <div className="roadmap-node"></div>[m
[32m+[m[32m                    <div className="roadmap-content">[m
[32m+[m[32m                      <h5>{step.year}</h5>[m
[32m+[m[32m                      <p>{step.text}</p>[m
[32m+[m[32m                    </div>[m
[32m+[m[32m                  </div>[m
[32m+[m[32m                ))}[m
[32m+[m[32m              </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </section>[m
[32m+[m
[32m+[m[32m      {/* DOMAINS */}[m
[32m+[m[32m      <Container className="py-5" data-aos="fade-up">[m
[32m+[m[32m        <h2 className="text-center mb-4">What Does GMHAT Help Detect? Key Domains</h2>[m
[32m+[m[32m        <Row className="g-4">[m
[32m+[m[32m          {domains.map((d,i) => ([m
[32m+[m[32m            <Col md={4} key={i} data-aos="fade-up" data-aos-delay={i*80}>[m
[32m+[m[32m              <Card className="domain-card p-3">[m
[32m+[m[32m                <Card.Body>[m
[32m+[m[32m                  <Card.Title style={{color:"var(--lavender-500)"}}>{d.title}</Card.Title>[m
[32m+[m[32m                  <Card.Text style={{color:"var(--muted)"}}>{d.info}</Card.Text>[m
[32m+[m[32m                </Card.Body>[m
[32m+[m[32m              </Card>[m
[32m+[m[32m            </Col>[m
[32m+[m[32m          ))}[m
[32m+[m[32m        </Row>[m
[32m+[m[32m      </Container>[m
[32m+[m
[32m+[m[32m      {/* Key Features & Impact */}[m
[32m+[m[32m      <Container className="py-5" data-aos="fade-up">[m
[32m+[m[32m        <Row className="g-4">[m
[32m+[m[32m          <Col md={6}>[m
[32m+[m[32m            <div className="section-box h-100">[m
[32m+[m[32m              <h2 className="text-center mb-4">Clinical Impact</h2>[m
[32m+[m
[32m+[m[32m              <h5>Improved detection and diagnosis</h5>[m
[32m+[m[32m              <ul className="small-muted">[m
[32m+[m[32m                <li>Wider range of conditions: assesses psychosis, phobias, OCD, dementia, substance misuse, personality problems—beyond anxiety & depression.</li>[m
[32m+[m[32m                <li>Increased accuracy: trained health professionals achieve excellent agreement with psychiatrist diagnoses.</li>[m
[32m+[m[32m                <li>Holistic assessment: captures full symptom profile, identifying multiple diagnoses when necessary.</li>[m
[32m+[m[32m              </ul>[m
[32m+[m
[32m+[m[32m              <h5>Enhanced patient care and management</h5>[m
[32m+[m[32m              <ul className="small-muted">[m
[32m+[m[32m                <li>Comprehensive output: detailed symptom profile, severity ratings, risk assessment, and ICD-10 based diagnoses.</li>[m
[32m+[m[32m                <li>Improved referral processes: generates a referral letter for specialist teams, ensuring clear hand-offs.</li>[m
[32m+[m[32m                <li>Guides treatment: provides management guidelines for evidence-based planning.</li>[m
[32m+[m[32m                <li>Outcomes measurement: tracks symptoms over time to monitor progress and treatment effectiveness.</li>[m
[32m+[m[32m              </ul>[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </Col>[m
[32m+[m
[32m+[m[32m          <Col md={6}>[m
[32m+[m[32m            <div className="section-box h-100">[m
[32m+[m[32m              <h2 className="text-center mb-4">Feasibility & Research Value</h2>[m
[32m+[m
[32m+[m[32m              <h5>Feasibility and accessibility</h5>[m
[32m+[m[32m              <ul className="small-muted">[m
[32m+[m[32m                <li>Time-efficient: 10–20 minute interview suits busy primary care and hospital settings.</li>[m
[32m+[m[32m                <li>Ease of use: designed for trained health workers who are not psychiatrists; well accepted by patients and interviewers.</li>[m
[32m+[m[32m                <li>Reduces health disparities: expands access in low- and middle-income countries and rural areas with few specialists.</li>[m
[32m+[m[32m              </ul>[m
[32m+[m
[32m+[m[32m              <h5>Training and research applications</h5>[m
[32m+[m[32m              <ul className="small-muted">[m
[32m+[m[32m                <li>Training tool: teaches medical students and health professionals mental health assessment skills.</li>[m
[32m+[m[32m                <li>Standardized data: provides data for research and epidemiological studies.</li>[m
[32m+[m[32m                <li>Cultural validation: translated and validated in multiple languages for cross-cultural and international use.</li>[m
[32m+[m[32m              </ul>[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </Col>[m
[32m+[m[32m        </Row>[m
[32m+[m[32m      </Container>[m
[32m+[m
[32m+[m[32m      {/* CTA */}[m
[32m+[m[32m      <Container className="py-5" data-aos="zoom-in">[m
[32m+[m[32m        <div className="section-box text-center">[m
[32m+[m[32m          <h3 style={{color:"var(--lavender-500)"}}>Ready to Begin Your Assessment?</h3>[m
[32m+[m[32m          <p className="small-muted">[m
[32m+[m[32m            The assessment typically takes about 15–20 minutes (primary care version). Your responses remain private in this session.[m
[32m+[m[32m          </p>[m
[32m+[m[32m          <Button style={{ background: "var(--lavender-500)", border: "none" }} size="lg"[m
[32m+[m[32m            onClick={() => navigate("/patient")}>Start Your Assessment</Button>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Container>[m
[32m+[m
[32m+[m[32m      <footer style={{ background: "var(--lavender-300)", padding: 18, marginTop: 24, color: "#fff", textAlign: "center" }}>[m
[32m+[m[32m        © {new Date().getFullYear()} GMHAT — A clinician aid for mental health screening.[m
[32m+[m[32m      </footer>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/src/pages/PatientForm.jsx b/src/pages/PatientForm.jsx[m
[1mnew file mode 100644[m
[1mindex 0000000..78eb045[m
[1m--- /dev/null[m
[1m+++ b/src/pages/PatientForm.jsx[m
[36m@@ -0,0 +1,46 @@[m
[32m+[m[32m// src/pages/PatientForm.jsx[m
[32m+[m[32mimport React, { useState } from 'react';[m
[32m+[m[32mimport { Container, Form, Button, Card } from 'react-bootstrap';[m
[32m+[m[32mimport { useNavigate } from "react-router-dom";[m
[32m+[m
[32m+[m[32mexport default function PatientForm() {[m
[32m+[m[32m  const [patient, setPatient] = useState({ name: '', age: '', gender: '' });[m
[32m+[m[32m  const navigate = useNavigate();[m
[32m+[m
[32m+[m[32m  const handleChange = (e) => setPatient(prev => ({ ...prev, [e.target.name]: e.target.value }));[m
[32m+[m
[32m+[m[32m  const handleSubmit = (e) => {[m
[32m+[m[32m    e.preventDefault();[m
[32m+[m[32m    navigate("/questionnaire", { state: { patient } });[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Container className="py-4" style={{ maxWidth: 720 }}>[m
[32m+[m[32m      <Card className="p-4">[m
[32m+[m[32m        <h2 className="mb-3">Patient Details</h2>[m
[32m+[m[32m        <Form onSubmit={handleSubmit}>[m
[32m+[m[32m          <Form.Group className="mb-3">[m
[32m+[m[32m            <Form.Label>Name</Form.Label>[m
[32m+[m[32m            <Form.Control name="name" value={patient.name} onChange={handleChange} required/>[m
[32m+[m[32m          </Form.Group>[m
[32m+[m[32m          <Form.Group className="mb-3">[m
[32m+[m[32m            <Form.Label>Age</Form.Label>[m
[32m+[m[32m            <Form.Control name="age" type="number" value={patient.age} onChange={handleChange} required/>[m
[32m+[m[32m          </Form.Group>[m
[32m+[m[32m          <Form.Group className="mb-3">[m
[32m+[m[32m            <Form.Label>Gender</Form.Label>[m
[32m+[m[32m            <Form.Select name="gender" value={patient.gender} onChange={handleChange} required>[m
[32m+[m[32m              <option value="">Select gender</option>[m
[32m+[m[32m              <option>Female</option>[m
[32m+[m[32m              <option>Male</option>[m
[32m+[m[32m              <option>Other</option>[m
[32m+[m[32m            </Form.Select>[m
[32m+[m[32m          </Form.Group>[m
[32m+[m[32m          <div className="d-flex justify-content-end">[m
[32m+[m[32m            <Button type="submit" variant="primary">Save & Start</Button>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </Form>[m
[32m+[m[32m      </Card>[m
[32m+[m[32m    </Container>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/src/pages/Questionnaire.jsx b/src/pages/Questionnaire.jsx[m
[1mnew file mode 100644[m
[1mindex 0000000..f431c51[m
[1m--- /dev/null[m
[1m+++ b/src/pages/Questionnaire.jsx[m
[36m@@ -0,0 +1,73 @@[m
[32m+[m[32m// src/pages/Questionnaire.jsx[m
[32m+[m[32mimport React, { useState } from 'react';[m
[32m+[m[32mimport { Container, Card, Form, Button, ProgressBar } from 'react-bootstrap';[m
[32m+[m[32mimport { questions, ratingOptions } from '../data/questions';[m[41m   [m
[32m+[m[32mimport { useNavigate, useLocation } from "react-router-dom";[m
[32m+[m
[32m+[m[32mexport default function Questionnaire() {[m
[32m+[m[32m  const [answers, setAnswers] = useState({});[m
[32m+[m[32m  const [page, setPage] = useState(0);[m
[32m+[m[32m  const navigate = useNavigate();[m[41m  [m
[32m+[m[32m  const { state } = useLocation();[m
[32m+[m[32m  const patient = state?.patient;[m
[32m+[m
[32m+[m[32m  const questionsPerPage = 4;[m
[32m+[m[32m  const totalPages = Math.ceil(questions.length / questionsPerPage);[m
[32m+[m
[32m+[m[32m  const startIndex = page * questionsPerPage;[m
[32m+[m[32m  const pageQuestions = questions.slice(startIndex, startIndex + questionsPerPage);[m
[32m+[m
[32m+[m[32m  const handleAnswer = (id, value) => {[m
[32m+[m[32m    setAnswers(prev => ({ ...prev, [id]: value }));[m
[32m+[m[32m  };[m
[32m+[m[41m    [m
[32m+[m[32m  const handleNext = () => {[m
[32m+[m[32m    if (page < totalPages - 1) {[m
[32m+[m[32m      setPage(page + 1);[m
[32m+[m[32m    } else {[m
[32m+[m[32m      // save for session persistence[m
[32m+[m[32m      sessionStorage.setItem("gmhatReport", JSON.stringify({ answers, patient }));[m
[32m+[m[32m      navigate("/report", { state: { answers, patient } });[m
[32m+[m[32m    }[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  const progress = (Object.keys(answers).length / questions.length) * 100;[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Container className="py-4">[m
[32m+[m[32m      <h2 className="mb-3">Questionnaire</h2>[m
[32m+[m[32m      <p className="small-muted mb-3">Answer honestly — answering these questions can ease the process of assessing you!</p>[m
[32m+[m
[32m+[m[32m      <ProgressBar now={progress} label={`${Math.round(progress)}%`} className="mb-4" />[m
[32m+[m
[32m+[m[32m      {pageQuestions.map(q => ([m
[32m+[m[32m        <Card key={q.id} className="mb-3 question-card">[m
[32m+[m[32m          <Card.Body>[m
[32m+[m[32m            <Card.Title className="mb-3">{q.text}</Card.Title>[m
[32m+[m[32m            <Form>[m
[32m+[m[32m              {ratingOptions.map(opt => ([m
[32m+[m[32m                <div key={opt.value} className="rating-pill form-check form-check-inline">[m
[32m+[m[32m                  <Form.Check[m
[32m+[m[32m                    type="radio"[m
[32m+[m[32m                    id={`q-${q.id}-${opt.value}`}[m
[32m+[m[32m                    name={`q-${q.id}`}[m
[32m+[m[32m                    label={opt.label}[m
[32m+[m[32m                    value={opt.value}[m
[32m+[m[32m                    checked={answers[q.id] === opt.value}[m
[32m+[m[32m                    onChange={() => handleAnswer(q.id, opt.value)}[m
[32m+[m[32m                  />[m
[32m+[m[32m                </div>[m
[32m+[m[32m              ))}[m
[32m+[m[32m            </Form>[m
[32m+[m[32m          </Card.Body>[m
[32m+[m[32m        </Card>[m
[32m+[m[32m      ))}[m
[32m+[m
[32m+[m[32m      <div className="d-flex justify-content-end">[m
[32m+[m[32m        <Button onClick={handleNext} variant="primary">[m
[32m+[m[32m          {page === totalPages - 1 ? 'Finish' : 'Next'}[m
[32m+[m[32m        </Button>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </Container>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/src/pages/Report.js b/src/pages/Report.js[m
[1mnew file mode 100644[m
[1mindex 0000000..e890662[m
[1m--- /dev/null[m
[1m+++ b/src/pages/Report.js[m
[36m@@ -0,0 +1,147 @@[m
[32m+[m[32m// src/pages/Report.js[m
[32m+[m[32mimport React, { useRef } from "react";[m
[32m+[m[32mimport { Container, Card, Table, Button, Row, Col } from "react-bootstrap";[m
[32m+[m[32mimport { useLocation, useNavigate } from "react-router-dom";[m
[32m+[m[32mimport jsPDF from "jspdf";[m
[32m+[m[32mimport html2canvas from "html2canvas";[m
[32m+[m[32mimport { questions } from "../data/questions";[m
[32m+[m
[32m+[m[32mexport default function Report() {[m
[32m+[m[32m  const location = useLocation();[m
[32m+[m[32m  const navigate = useNavigate();[m
[32m+[m
[32m+[m[32m  const stored = sessionStorage.getItem("gmhatReport");[m
[32m+[m[32m  const fallback = stored ? JSON.parse(stored) : {};[m
[32m+[m[32m  const { patient, answers } = location.state || fallback;[m
[32m+[m
[32m+[m[32m  const reportRef = useRef();[m
[32m+[m[32m  const today = new Date().toLocaleDateString();[m
[32m+[m
[32m+[m[32m  // compute category scores[m
[32m+[m[32m  const categoryScores = {};[m
[32m+[m[32m  questions.forEach((q) => {[m
[32m+[m[32m    const val = answers?.[q.id];[m
[32m+[m[32m    if (typeof val === "number" && val !== 8 && val !== 9) {[m
[32m+[m[32m      categoryScores[q.category] = (categoryScores[q.category] || 0) + val;[m
[32m+[m[32m    }[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m  const allCategories = [[m
[32m+[m[32m    "Anxiety",[m
[32m+[m[32m    "Depressed mood",[m
[32m+[m[32m    "Manic Symptoms",[m
[32m+[m[32m    "Memory Impairment",[m
[32m+[m[32m    "Alcohol misuse",[m
[32m+[m[32m    "Drug misuse",[m
[32m+[m[32m    "Personality problems",[m
[32m+[m[32m    "Level Of Stress",[m
[32m+[m[32m    "Risk Assessment",[m
[32m+[m[32m  ];[m
[32m+[m
[32m+[m[32m  const getSeverity = (score) => {[m
[32m+[m[32m    if (score <= 0) return "No Symptom";[m
[32m+[m[32m    if (score <= 4) return "Mild";[m
[32m+[m[32m    if (score <= 8) return "Moderate";[m
[32m+[m[32m    return "Severe";[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  allCategories.forEach((cat) => {[m
[32m+[m[32m    if (!(cat in categoryScores)) categoryScores[cat] = 0;[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m  const sortedCats = Object.entries(categoryScores).sort((a, b) => b[1] - a[1]);[m
[32m+[m[32m  const mainDiagnosis = sortedCats[0]?.[0] || "None";[m
[32m+[m[32m  const otherDiagnoses = sortedCats.slice(1, 4).map((c) => c[0]);[m
[32m+[m
[32m+[m[32m  // PDF download[m
[32m+[m[32m  const downloadPDF = () => {[m
[32m+[m[32m    html2canvas(reportRef.current, { scale: 2 }).then((canvas) => {[m
[32m+[m[32m      const imgData = canvas.toDataURL("image/png");[m
[32m+[m[32m      const pdf = new jsPDF("p", "pt", "a4");[m
[32m+[m[32m      const imgProps = pdf.getImageProperties(imgData);[m
[32m+[m[32m      const pdfWidth = pdf.internal.pageSize.getWidth();[m
[32m+[m[32m      const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;[m
[32m+[m[32m      pdf.addImage(imgData, "PNG", 0, 0, pdfWidth, pdfHeight);[m
[32m+[m[32m      pdf.save(`GMHAT_Report_${patient?.name || "Patient"}.pdf`);[m
[32m+[m[32m    });[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  const goHome = () => navigate("/");[m
[32m+[m
[32m+[m[32m  if (!patient || !answers) {[m
[32m+[m[32m    return ([m
[32m+[m[32m      <Container className="py-4">[m
[32m+[m[32m        <h4>No report found. Please complete the questionnaire first.</h4>[m
[32m+[m[32m        <Button onClick={goHome}>Go to Home</Button>[m
[32m+[m[32m      </Container>[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Container className="py-4">[m
[32m+[m[32m      <div className="text-center mb-4 no-print">[m
[32m+[m[32m        <Button variant="primary" className="me-3" onClick={downloadPDF}>[m
[32m+[m[32m          Download PDF[m
[32m+[m[32m        </Button>[m
[32m+[m[32m        <Button variant="secondary" onClick={goHome}>[m
[32m+[m[32m          Go to Home[m
[32m+[m[32m        </Button>[m
[32m+[m[32m      </div>[m
[32m+[m
[32m+[m[32m      <div ref={reportRef} className="report-print">[m
[32m+[m[32m        <div className="text-center mb-3">[m
[32m+[m[32m          <h1 className="mb-1">GMHAT Interview Report</h1>[m
[32m+[m[32m          <small className="small-muted">GMHAT is presented as an aid to healthcare professionals only and is not a substitute for a satisfactory clinical assessment.</small>[m
[32m+[m[32m        </div>[m
[32m+[m
[32m+[m[32m        <Card className="mb-4">[m
[32m+[m[32m          <Card.Body>[m
[32m+[m[32m            <Row className="mb-2 patient-row">[m
[32m+[m[32m              <Col md={4} className="pair"><strong>Name:</strong> {patient?.name}</Col>[m
[32m+[m[32m              <Col md={4} className="pair"><strong>Age:</strong> {patient?.age}</Col>[m
[32m+[m[32m              <Col md={4} className="pair"><strong>Gender:</strong> {patient?.gender}</Col>[m
[32m+[m[32m            </Row>[m
[32m+[m[32m            <Row>[m
[32m+[m[32m              <Col md={6}><strong>Date of Assessment:</strong> {today}</Col>[m
[32m+[m[32m              <Col md={6}><strong>Interviewed by:</strong> Dr. Manish Thakre</Col>[m
[32m+[m[32m            </Row>[m
[32m+[m[32m          </Card.Body>[m
[32m+[m[32m        </Card>[m
[32m+[m
[32m+[m[32m        <h4 className="mb-3">Symptoms Based on GMHAT Interview</h4>[m
[32m+[m[32m        <Table bordered hover responsive>[m
[32m+[m[32m          <thead>[m
[32m+[m[32m            <tr>[m
[32m+[m[32m              <th>Category</th>[m
[32m+[m[32m              <th>Score</th>[m
[32m+[m[32m              <th>Severity</th>[m
[32m+[m[32m            </tr>[m
[32m+[m[32m          </thead>[m
[32m+[m[32m          <tbody>[m
[32m+[m[32m            {allCategories.map((cat) => ([m
[32m+[m[32m              <tr key={cat}>[m
[32m+[m[32m                <td>{cat}</td>[m
[32m+[m[32m                <td>{categoryScores[cat]}</td>[m
[32m+[m[32m                <td>{getSeverity(categoryScores[cat])}</td>[m
[32m+[m[32m              </tr>[m
[32m+[m[32m            ))}[m
[32m+[m[32m          </tbody>[m
[32m+[m[32m        </Table>[m
[32m+[m
[32m+[m[32m        <Card className="mt-4">[m
[32m+[m[32m          <Card.Body>[m
[32m+[m[32m            <h4>GMHAT Main Diagnosis:</h4>[m
[32m+[m[32m            <p className="fs-5 fw-bold">{mainDiagnosis}</p>[m
[32m+[m
[32m+[m[32m            <h5 className="mt-3">Other Possible Diagnoses:</h5>[m
[32m+[m[32m            <ul>[m
[32m+[m[32m              {otherDiagnoses.map((cat) => ([m
[32m+[m[32m                <li key={cat}>{cat}</li>[m
[32m+[m[32m              ))}[m
[32m+[m[32m            </ul>[m
[32m+[m[32m          </Card.Body>[m
[32m+[m[32m        </Card>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </Container>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
